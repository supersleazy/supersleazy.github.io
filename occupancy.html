<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Real-time Occupancy | SportsBook</title>
  <link rel="stylesheet" href="css/base.css" />
  <link rel="stylesheet" href="css/occupancy.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  <!-- Chart.js for data visualization -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <!-- Mobile Menu -->
  <nav class="mobile-menu">
    <div class="mobile-menu-content">
      <ul>
        <li>
          <span>Platform</span>
          <ul>
            <li><a href="index.html">Scan</a></li>
            <li><a href="index.html">Sports</a></li>
            <li><a href="#">Leaderboard</a></li>
            <li><a href="live_scoring.html">Live Scoring</a></li>
          </ul>
        </li>
        <li>
          <span>Features</span>
          <ul>
            <li><a href="occupancy.html">Occupancy</a></li>
            <li><a href="playersearch.html">Player Search</a></li>
            <li><a href="bookingsystem.html">Booking</a></li>
            <li><a href="others.html">Others</a></li>
          </ul>
        </li>
        <li>
          <span>Resources</span>
          <ul>
            <li><a href="#">Help Center</a></li>
            <li><a href="#">Community</a></li>
            <li><a href="#">Tutorials</a></li>
            <li><a href="#">Blog</a></li>
          </ul>
        </li>
        <li>
          <span>Company</span>
          <ul>
            <li><a href="#">About Us</a></li>
            <li><a href="#">Careers</a></li>
            <li><a href="#">Contact</a></li>
            <li><a href="#">Privacy Policy</a></li>
          </ul>
        </li>
      </ul>
      <button class="mobile-menu-close"><i class="fas fa-times"></i></button>
    </div>
  </nav>

  <!-- Header -->
  <header>
    <div class="header-content container">
      <div class="menu-icon">
        <i class="fas fa-bars"></i>
      </div>
      <div class="logo">
        <a href="index.html" class="logo-link">
          <img src="https://github.com/Kirat24303/sportsBook/blob/main/sportsBook_logo.png?raw=true" alt="SportsBook Logo" class="header-logo" />
          <span class="logo-text">SportsBook</span>
        </a>
      </div>
      <nav class="main-nav">
        <ul>
          <li class="dropdown"><a href="#">Sports <i class="fas fa-chevron-down"></i></a></li>
          <li class="dropdown"><a href="#">Live Scoring <i class="fas fa-chevron-down"></i></a></li>
          <li class="dropdown"><a href="#">Coin Toss <i class="fas fa-chevron-down"></i></a></li>
        </ul>
      </nav>
      <div class="header-right">
        <a href="#" class="login-btn">Log in <i class="fas fa-chevron-down"></i></a>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <div class="main-container">
    <h1 class="page-title">Real-time Occupancy</h1>
    
    <!-- Tabs -->
    <div class="tabs">
      <button class="tab-button active" onclick="showTab('liveVacancy')">Live Vacancy</button>
      <button class="tab-button" onclick="showTab('timeTable')">Time Table</button>
      <button class="tab-button" onclick="showTab('dataAnalysis')">Data Analysis</button>
    </div>
    
    <!-- Live Vacancy Section -->
    <div id="liveVacancy" class="tab-content active">
      <div class="sport-selector">
        <label for="sportSelect">Select Sport:</label>
        <select id="sportSelect" onchange="updateLiveVacancy()">
          <option value="badminton">Badminton</option>
          <option value="gym">Gym</option>
          <option value="cricket">Cricket</option>
          <option value="football">Football</option>
          <option value="basketball">Basketball</option>
          <option value="volleyball">Volleyball</option>
          <option value="tabletennis">Table Tennis</option>
          <option value="lawntennis">Lawn Tennis</option>
        </select>
      </div>
      
      <div class="occupancy-display">
        <div class="occupancy-card">
          <div class="occupancy-header">
            <h2 id="sportTitle">Badminton</h2>
            <span class="status-badge available">Available</span>
          </div>
          <div class="occupancy-details">
            <div class="detail-item">
              <i class="fas fa-users"></i>
              <div class="detail-info">
                <span class="detail-label">Students Present</span>
                <span id="studentCount" class="detail-value">4</span>
              </div>
            </div>
            <div class="detail-item">
              <i class="fas fa-percentage"></i>
              <div class="detail-info">
                <span class="detail-label">Occupancy Rate</span>
                <span id="occupancyRate" class="detail-value">40%</span>
              </div>
            </div>
          </div>
          
          <h3>Equipment in Use</h3>
          <div class="equipment-list" id="equipmentList">
            <div class="equipment-item">
              <span class="equipment-name">Racquets</span>
              <span class="equipment-count">4</span>
            </div>
            <div class="equipment-item">
              <span class="equipment-name">Shuttlecocks</span>
              <span class="equipment-count">1</span>
            </div>
          </div>
        </div>
        
        <div class="court-visualization">
          <h3>Court Visualization</h3>
          <div class="court-container" id="courtContainer">
            <div class="court badminton-court">
              <div class="court-player" style="top: 20%; left: 20%;" title="Player 1"></div>
              <div class="court-player" style="top: 20%; left: 70%;" title="Player 2"></div>
              <div class="court-player" style="top: 70%; left: 20%;" title="Player 3"></div>
              <div class="court-player" style="top: 70%; left: 70%;" title="Player 4"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Time Table Section -->
    <div id="timeTable" class="tab-content">
      <div class="sport-selector">
        <label for="timeTableSportSelect">Select Sport:</label>
        <select id="timeTableSportSelect" onchange="updateTimeTable()">
          <option value="badminton">Badminton</option>
          <option value="gym">Gym</option>
          <option value="cricket">Cricket</option>
          <option value="football">Football</option>
          <option value="basketball">Basketball</option>
          <option value="volleyball">Volleyball</option>
          <option value="tabletennis">Table Tennis</option>
          <option value="lawntennis">Lawn Tennis</option>
        </select>
      </div>
      
      <div class="timetable-container">
        <h2 id="timeTableSportTitle">Badminton - Weekly Schedule</h2>
        <div class="timetable">
          <div class="timetable-header">
            <div class="time-column">Time</div>
            <div class="day-column">Monday</div>
            <div class="day-column">Tuesday</div>
            <div class="day-column">Wednesday</div>
            <div class="day-column">Thursday</div>
            <div class="day-column">Friday</div>
            <div class="day-column">Saturday</div>
            <div class="day-column">Sunday</div>
          </div>
          <div class="timetable-body" id="timetableBody">
            <!-- Example time rows -->
            <div class="time-row">
              <div class="time-column">6:00 - 8:00</div>
              <div class="day-column faculty">Faculty</div>
              <div class="day-column">-</div>
              <div class="day-column faculty">Faculty</div>
              <div class="day-column">-</div>
              <div class="day-column faculty">Faculty</div>
              <div class="day-column">-</div>
              <div class="day-column">-</div>
            </div>
            <div class="time-row">
              <div class="time-column">8:00 - 10:00</div>
              <div class="day-column girls">Girls</div>
              <div class="day-column team">College Team</div>
              <div class="day-column girls">Girls</div>
              <div class="day-column team">College Team</div>
              <div class="day-column girls">Girls</div>
              <div class="day-column open">Open</div>
              <div class="day-column open">Open</div>
            </div>
            <div class="time-row">
              <div class="time-column">10:00 - 12:00</div>
              <div class="day-column open">Open</div>
              <div class="day-column open">Open</div>
              <div class="day-column open">Open</div>
              <div class="day-column open">Open</div>
              <div class="day-column open">Open</div>
              <div class="day-column mtech">MTech/PhD</div>
              <div class="day-column mtech">MTech/PhD</div>
            </div>
            <div class="time-row">
              <div class="time-column">12:00 - 14:00</div>
              <div class="day-column">-</div>
              <div class="day-column">-</div>
              <div class="day-column">-</div>
              <div class="day-column">-</div>
              <div class="day-column">-</div>
              <div class="day-column open">Open</div>
              <div class="day-column open">Open</div>
            </div>
            <div class="time-row">
              <div class="time-column">14:00 - 16:00</div>
              <div class="day-column open">Open</div>
              <div class="day-column open">Open</div>
              <div class="day-column open">Open</div>
              <div class="day-column open">Open</div>
              <div class="day-column open">Open</div>
              <div class="day-column team">College Team</div>
              <div class="day-column team">College Team</div>
            </div>
            <div class="time-row">
              <div class="time-column">16:00 - 18:00</div>
              <div class="day-column team">College Team</div>
              <div class="day-column girls">Girls</div>
              <div class="day-column team">College Team</div>
              <div class="day-column girls">Girls</div>
              <div class="day-column team">College Team</div>
              <div class="day-column open">Open</div>
              <div class="day-column open">Open</div>
            </div>
            <div class="time-row">
              <div class="time-column">18:00 - 20:00</div>
              <div class="day-column mtech">MTech/PhD</div>
              <div class="day-column mtech">MTech/PhD</div>
              <div class="day-column mtech">MTech/PhD</div>
              <div class="day-column mtech">MTech/PhD</div>
              <div class="day-column mtech">MTech/PhD</div>
              <div class="day-column open">Open</div>
              <div class="day-column open">Open</div>
            </div>
            <div class="time-row">
              <div class="time-column">20:00 - 22:00</div>
              <div class="day-column open">Open</div>
              <div class="day-column open">Open</div>
              <div class="day-column open">Open</div>
              <div class="day-column open">Open</div>
              <div class="day-column open">Open</div>
              <div class="day-column open">Open</div>
              <div class="day-column open">Open</div>
            </div>
          </div>
        </div>
        
        <div class="timetable-legend">
          <div class="legend-item">
            <span class="legend-color faculty"></span>
            <span class="legend-text">Faculty</span>
          </div>
          <div class="legend-item">
            <span class="legend-color team"></span>
            <span class="legend-text">College Team</span>
          </div>
          <div class="legend-item">
            <span class="legend-color girls"></span>
            <span class="legend-text">Girls</span>
          </div>
          <div class="legend-item">
            <span class="legend-color mtech"></span>
            <span class="legend-text">MTech/PhD</span>
          </div>
          <div class="legend-item">
            <span class="legend-color open"></span>
            <span class="legend-text">Open</span>
          </div>
        </div>
      </div>
      
      <!-- Data Analysis Section -->
      <div id="dataAnalysis" class="tab-content">
        <div class="sport-selector">
          <label for="analysisSportSelect">Select Sport:</label>
          <select id="analysisSportSelect" onchange="updateAnalysisCharts()">
            <option value="badminton">Badminton</option>
            <option value="gym">Gym</option>
            <option value="cricket">Cricket</option>
            <option value="football">Football</option>
            <option value="basketball">Basketball</option>
            <option value="volleyball">Volleyball</option>
            <option value="tabletennis">Table Tennis</option>
            <option value="lawntennis">Lawn Tennis</option>
          </select>
        </div>
        
        <div class="analysis-container">
          <div class="chart-container">
            <h3>Weekly Attendance</h3>
            <canvas id="weeklyChart"></canvas>
          </div>
          
          <div class="chart-container">
            <h3>Monthly Attendance</h3>
            <canvas id="monthlyChart"></canvas>
          </div>
          
          <div class="chart-container">
            <h3>Peak Hours (Last 30 Days)</h3>
            <canvas id="peakHoursChart"></canvas>
          </div>
          
          <div class="stats-container">
            <h3>Usage Statistics</h3>
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-value" id="totalUsers">245</div>
                <div class="stat-label">Total Users This Month</div>
              </div>
              <div class="stat-card">
                <div class="stat-value" id="avgDuration">1.5</div>
                <div class="stat-label">Average Session (hours)</div>
              </div>
              <div class="stat-card">
                <div class="stat-value" id="peakDay">Friday</div>
                <div class="stat-label">Most Popular Day</div>
              </div>
              <div class="stat-card">
                <div class="stat-value" id="peakTime">18:00</div>
                <div class="stat-label">Peak Time</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <div class="footer-links">
        <div class="footer-column">
          <h4>Platform</h4>
          <ul>
            <li><a href="#">Scan</a></li>
            <li><a href="#">Sports</a></li>
            <li><a href="#">Leaderboard</a></li>
            <li><a href="#">Live Scoring</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4>Features</h4>
          <ul>
            <li><a href="#">Occupancy</a></li>
            <li><a href="#">Player Search</a></li>
            <li><a href="#">Booking</a></li>
            <li><a href="#">Others</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4>Resources</h4>
          <ul>
            <li><a href="#">Help Center</a></li>
            <li><a href="#">Community</a></li>
            <li><a href="#">Tutorials</a></li>
            <li><a href="#">Blog</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4>Company</h4>
          <ul>
            <li><a href="#">About Us</a></li>
            <li><a href="#">Careers</a></li>
            <li><a href="#">Contact</a></li>
            <li><a href="#">Privacy Policy</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 SportsBook. All rights reserved.</p>
      <div class="social-links">
        <a href="#"><i class="fab fa-facebook-f"></i></a>
        <a href="#"><i class="fab fa-twitter"></i></a>
        <a href="#"><i class="fab fa-instagram"></i></a>
        <a href="#"><i class="fab fa-linkedin-in"></i></a>
      </div>
    </div>
  </footer>

  <script>
    // Mobile Menu Toggle
    const menuIcon = document.querySelector('.menu-icon');
    const mobileMenu = document.querySelector('.mobile-menu');
    const mobileMenuClose = document.querySelector('.mobile-menu-close');

    menuIcon.addEventListener('click', () => {
      mobileMenu.classList.add('active');
    });

    mobileMenuClose.addEventListener('click', () => {
      mobileMenu.classList.remove('active');
    });

    // Tab switching functionality
    function showTab(tabId) {
      const tabContents = document.querySelectorAll('.tab-content');
      tabContents.forEach(content => content.classList.remove('active'));
      
      const tabButtons = document.querySelectorAll('.tab-button');
      tabButtons.forEach(button => button.classList.remove('active'));
      
      document.getElementById(tabId).classList.add('active');
      event.target.classList.add('active');
      
      if (tabId === 'dataAnalysis') {
        initializeCharts();
      }
    }

    // Live Vacancy and Timetable update functions (using sample sportsData)
    const sportsData = {
      badminton: {
        title: 'Badminton',
        students: 4,
        capacity: 10,
        equipment: [
          { name: 'Racquets', count: 4 },
          { name: 'Shuttlecocks', count: 1 }
        ],
        courtType: 'badminton-court',
        players: [
          { top: '20%', left: '20%' },
          { top: '20%', left: '70%' },
          { top: '70%', left: '20%' },
          { top: '70%', left: '70%' }
        ]
      },
      gym: {
        title: 'Gym',
        students: 12,
        capacity: 25,
        equipment: [
          { name: 'Treadmills', count: 3 },
          { name: 'Dumbbells', count: 8 },
          { name: 'Benches', count: 4 },
          { name: 'Exercise Bikes', count: 2 }
        ],
        courtType: 'gym-area',
        players: [
          { top: '10%', left: '10%' },
          { top: '10%', left: '30%' },
          { top: '10%', left: '50%' },
          { top: '10%', left: '70%' },
          { top: '30%', left: '20%' },
          { top: '30%', left: '40%' },
          { top: '30%', left: '60%' },
          { top: '50%', left: '15%' },
          { top: '50%', left: '35%' },
          { top: '50%', left: '55%' },
          { top: '70%', left: '25%' },
          { top: '70%', left: '45%' }
        ]
      },
      // Additional sports data...
    };

    function updateLiveVacancy() {
      const sportSelect = document.getElementById('sportSelect');
      const selectedSport = sportSelect.value;
      const sportData = sportsData[selectedSport];
      
      document.getElementById('sportTitle').textContent = sportData.title;
      document.getElementById('studentCount').textContent = sportData.students;
      const occupancyRate = Math.round((sportData.students / sportData.capacity) * 100);
      document.getElementById('occupancyRate').textContent = `${occupancyRate}%`;
      
      const equipmentList = document.getElementById('equipmentList');
      equipmentList.innerHTML = '';
      sportData.equipment.forEach(item => {
        const equipmentItem = document.createElement('div');
        equipmentItem.className = 'equipment-item';
        equipmentItem.innerHTML = `
          <span class="equipment-name">${item.name}</span>
          <span class="equipment-count">${item.count}</span>
        `;
        equipmentList.appendChild(equipmentItem);
      });
      
      const courtContainer = document.getElementById('courtContainer');
      courtContainer.innerHTML = '';
      const court = document.createElement('div');
      court.className = `court ${sportData.courtType}`;
      sportData.players.forEach((player, index) => {
        const playerElement = document.createElement('div');
        playerElement.className = 'court-player';
        playerElement.style.top = player.top;
        playerElement.style.left = player.left;
        playerElement.title = `Player ${index + 1}`;
        court.appendChild(playerElement);
      });
      courtContainer.appendChild(court);
      
      const statusBadge = document.querySelector('.status-badge');
      if (occupancyRate >= 90) {
        statusBadge.className = 'status-badge full';
        statusBadge.textContent = 'Full';
      } else if (occupancyRate >= 70) {
        statusBadge.className = 'status-badge busy';
        statusBadge.textContent = 'Busy';
      } else {
        statusBadge.className = 'status-badge available';
        statusBadge.textContent = 'Available';
      }
    }
    
    function updateTimeTable() {
      const sportSelect = document.getElementById('timeTableSportSelect');
      const selectedSport = sportSelect.value;
      document.getElementById('timeTableSportTitle').textContent = `${sportsData[selectedSport].title} - Weekly Schedule`;
      console.log(`Timetable updated for ${selectedSport}`);
    }
    
    let weeklyChart, monthlyChart, peakHoursChart;
    
    function initializeCharts() {
      const weeklyCtx = document.getElementById('weeklyChart').getContext('2d');
      weeklyChart = new Chart(weeklyCtx, {
        type: 'bar',
        data: {
          labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
          datasets: [{
            label: 'Students',
            data: [25, 32, 28, 35, 42, 38, 30],
            backgroundColor: '#0782da',
            borderColor: '#0782da',
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          scales: {
            y: {
              beginAtZero: true,
              grid: { color: 'rgba(255, 255, 255, 0.1)' },
              ticks: { color: '#cccccc' }
            },
            x: {
              grid: { color: 'rgba(255, 255, 255, 0.1)' },
              ticks: { color: '#cccccc' }
            }
          },
          plugins: {
            legend: { labels: { color: '#ffffff' } }
          }
        }
      });
      
      const monthlyCtx = document.getElementById('monthlyChart').getContext('2d');
      monthlyChart = new Chart(monthlyCtx, {
        type: 'line',
        data: {
          labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
          datasets: [{
            label: 'Students',
            data: [120, 145, 135, 160],
            backgroundColor: 'rgba(7, 130, 218, 0.2)',
            borderColor: '#0782da',
            borderWidth: 2,
            tension: 0.3,
            fill: true
          }]
        },
        options: {
          responsive: true,
          scales: {
            y: {
              beginAtZero: true,
              grid: { color: 'rgba(255, 255, 255, 0.1)' },
              ticks: { color: '#cccccc' }
            },
            x: {
              grid: { color: 'rgba(255, 255, 255, 0.1)' },
              ticks: { color: '#cccccc' }
            }
          },
          plugins: {
            legend: { labels: { color: '#ffffff' } }
          }
        }
      });
      
      const peakHoursCtx = document.getElementById('peakHoursChart').getContext('2d');
      peakHoursChart = new Chart(peakHoursCtx, {
        type: 'bar',
        data: {
          labels: ['6-8', '8-10', '10-12', '12-14', '14-16', '16-18', '18-20', '20-22'],
          datasets: [{
            label: 'Average Users',
            data: [8, 15, 12, 5, 18, 25, 30, 20],
            backgroundColor: '#0782da',
            borderColor: '#0782da',
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          scales: {
            y: {
              beginAtZero: true,
              grid: { color: 'rgba(255, 255, 255, 0.1)' },
              ticks: { color: '#cccccc' }
            },
            x: {
              grid: { color: 'rgba(255, 255, 255, 0.1)' },
              ticks: { color: '#cccccc' }
            }
          },
          plugins: {
            legend: { labels: { color: '#ffffff' } }
          }
        }
      });
    }
    
    function updateAnalysisCharts() {
      const sportSelect = document.getElementById('analysisSportSelect');
      const selectedSport = sportSelect.value;
      
      const weeklyData = Array.from({ length: 7 }, () => Math.floor(Math.random() * 30) + 10);
      weeklyChart.data.datasets[0].data = weeklyData;
      weeklyChart.update();
      
      const monthlyData = Array.from({ length: 4 }, () => Math.floor(Math.random() * 50) + 100);
      monthlyChart.data.datasets[0].data = monthlyData;
      monthlyChart.update();
      
      const peakHoursData = Array.from({ length: 8 }, () => Math.floor(Math.random() * 25) + 5);
      peakHoursChart.data.datasets[0].data = peakHoursData;
      peakHoursChart.update();
      
      document.getElementById('totalUsers').textContent = Math.floor(Math.random() * 200) + 100;
      document.getElementById('avgDuration').textContent = (Math.random() * 2 + 0.5).toFixed(1);
      
      const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
      const randomDay = days[Math.floor(Math.random() * days.length)];
      document.getElementById('peakDay').textContent = randomDay;
      
      const hours = ['10:00', '14:00', '16:00', '18:00', '20:00'];
      const randomHour = hours[Math.floor(Math.random() * hours.length)];
      document.getElementById('peakTime').textContent = randomHour;
    }
    
    document.addEventListener('DOMContentLoaded', function() {
      showTab('liveVacancy');
      updateLiveVacancy();
      updateTimeTable();
    });
  </script>
</body>
</html>
x